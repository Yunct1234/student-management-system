# å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ - åŸºäºOceanBase

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºOceanBaseå›½äº§æ•°æ®åº“çš„å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šä¸»æœºè¿œç¨‹è®¿é—®ï¼Œå®ç°äº†å­¦ç”Ÿä¿¡æ¯ç®¡ç†ã€è¯¾ç¨‹ç®¡ç†ã€é€‰è¯¾ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¬åœ°å®¢æˆ·ç«¯  â”‚     â”‚  è¿œç¨‹å®¢æˆ·ç«¯  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â”‚    TCP/IP         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   OceanBase    â”‚
        â”‚   æ•°æ®åº“æœåŠ¡å™¨  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… å­¦ç”Ÿä¿¡æ¯ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… è¯¾ç¨‹ä¿¡æ¯ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… é€‰è¯¾ç®¡ç†ï¼ˆé€‰è¯¾/é€€é€‰ï¼‰
- âœ… æˆç»©ç®¡ç†ï¼ˆå½•å…¥/æŸ¥è¯¢ï¼‰
- âœ… ç»Ÿè®¡åˆ†æï¼ˆå„ç±»ç»Ÿè®¡æŠ¥è¡¨ï¼‰

### æŠ€æœ¯ç‰¹ç‚¹
- ğŸ”§ åŸºäºOceanBaseç¤¾åŒºç‰ˆæ•°æ®åº“
- ğŸŒ æ”¯æŒå¤šä¸»æœºè¿œç¨‹è®¿é—®
- ğŸ” å®Œå–„çš„æƒé™ç®¡ç†æœºåˆ¶
- ğŸ“Š ä¸°å¯Œçš„æ•°æ®ç»Ÿè®¡åŠŸèƒ½
- ğŸ¨ å‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢

## ç¯å¢ƒè¦æ±‚

### æ•°æ®åº“æœåŠ¡å™¨ï¼ˆWSL/Linuxï¼‰
- æ“ä½œç³»ç»Ÿ: Ubuntu 20.04+ / CentOS 7+
- å†…å­˜: 8GBä»¥ä¸Š
- ç£ç›˜: 20GBä»¥ä¸Š
- OceanBase: 4.2.1ç¤¾åŒºç‰ˆ

### å®¢æˆ·ç«¯ï¼ˆWindows/Linuxï¼‰
- Python: 3.8+
- pip: æœ€æ–°ç‰ˆæœ¬
- ç½‘ç»œ: èƒ½å¤Ÿè®¿é—®æ•°æ®åº“æœåŠ¡å™¨

## å¿«é€Ÿå¼€å§‹

### 1. éƒ¨ç½²æ•°æ®åº“æœåŠ¡å™¨ï¼ˆWSLç¯å¢ƒï¼‰

```bash
# è¿›å…¥WSLç¯å¢ƒ
wsl

# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/student_management_system.git
cd student_management_system

# å®‰è£…OceanBase All in One
cd scripts
chmod +x *.sh
./install_oceanbase.sh

# éƒ¨ç½²æ•°æ®åº“ï¼ˆé€‰æ‹©æœ€å°è§„æ ¼æˆ–æœ€å¤§è§„æ ¼ï¼‰
./deploy_oceanbase.sh

# ç®¡ç†æœåŠ¡
./start_server.sh  # å¯åŠ¨æœåŠ¡
./stop_server.sh   # åœæ­¢æœåŠ¡
```

### OceanBase All in One ç®¡ç†å‘½ä»¤

```bash
# åŠ è½½ç¯å¢ƒå˜é‡ï¼ˆæ¯æ¬¡æ–°å¼€ç»ˆç«¯éœ€è¦æ‰§è¡Œï¼‰
source ~/.oceanbase-all-in-one/bin/env.sh

# æŸ¥çœ‹é›†ç¾¤åˆ—è¡¨
obd cluster list

# æŸ¥çœ‹é›†ç¾¤è¯¦æƒ…
obd cluster display demo

# å¯åŠ¨é›†ç¾¤
obd cluster start demo

# åœæ­¢é›†ç¾¤
obd cluster stop demo

# é‡å¯é›†ç¾¤
obd cluster restart demo

# é”€æ¯é›†ç¾¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
obd cluster destroy demo
```

### è¿æ¥æ•°æ®åº“

```bash
# ä½¿ç”¨mysqlå®¢æˆ·ç«¯è¿æ¥
mysql -h 127.0.0.1 -P 2881 -uroot -p -A

# é»˜è®¤rootå¯†ç ä¸ºç©ºï¼Œç›´æ¥å›è½¦å³å¯
# å¦‚æœè®¾ç½®äº†å¯†ç ï¼Œè¾“å…¥å¯¹åº”å¯†ç 
```


### 2. é…ç½®æœ¬åœ°å®¢æˆ·ç«¯

```bash
# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“è¿æ¥
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥å‚æ•°

# è¿è¡Œæœ¬åœ°å®¢æˆ·ç«¯
python main.py
# é€‰æ‹©1 - æœ¬åœ°å®¢æˆ·ç«¯
```

### 3. é…ç½®è¿œç¨‹å®¢æˆ·ç«¯ï¼ˆWindowsï¼‰

```batch
# åœ¨Windows PowerShellä¸­
cd student_management_system

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®è¿œç¨‹è¿æ¥
copy .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œè®¾ç½®è¿œç¨‹æ•°æ®åº“IPå’Œå‡­æ®

# è¿è¡Œè¿œç¨‹å®¢æˆ·ç«¯
python main.py
# é€‰æ‹©2 - è¿œç¨‹å®¢æˆ·ç«¯
```

## æ•°æ®åº“è®¾è®¡

### å­¦ç”Ÿä¿¡æ¯è¡¨ (students)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| student_id | VARCHAR(20) | å­¦å·ï¼ˆä¸»é”®ï¼‰ |
| name | VARCHAR(50) | å§“å |
| gender | ENUM | æ€§åˆ« |
| age | INT | å¹´é¾„ |
| major | VARCHAR(100) | ä¸“ä¸š |
| class_name | VARCHAR(50) | ç­çº§ |
| phone | VARCHAR(20) | ç”µè¯ |
| email | VARCHAR(100) | é‚®ç®± |
| enrollment_date | DATE | å…¥å­¦æ—¥æœŸ |
| status | ENUM | çŠ¶æ€ |

### è¯¾ç¨‹ä¿¡æ¯è¡¨ (courses)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| course_id | VARCHAR(20) | è¯¾ç¨‹ç¼–å·ï¼ˆä¸»é”®ï¼‰ |
| course_name | VARCHAR(100) | è¯¾ç¨‹åç§° |
| credits | DECIMAL(3,1) | å­¦åˆ† |
| teacher | VARCHAR(50) | æ•™å¸ˆ |
| department | VARCHAR(100) | å¼€è¯¾å­¦é™¢ |
| semester | VARCHAR(20) | å­¦æœŸ |
| course_type | ENUM | è¯¾ç¨‹ç±»å‹ |
| max_students | INT | æœ€å¤§äººæ•° |
| classroom | VARCHAR(50) | æ•™å®¤ |
| schedule | VARCHAR(100) | ä¸Šè¯¾æ—¶é—´ |

### é€‰è¯¾è¡¨ (enrollments)
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| enrollment_id | INT | é€‰è¯¾IDï¼ˆä¸»é”®ï¼‰ |
| student_id | VARCHAR(20) | å­¦å·ï¼ˆå¤–é”®ï¼‰ |
| course_id | VARCHAR(20) | è¯¾ç¨‹ç¼–å·ï¼ˆå¤–é”®ï¼‰ |
| semester | VARCHAR(20) | å­¦æœŸ |
| score | DECIMAL(5,2) | æˆç»© |
| grade | VARCHAR(10) | ç­‰çº§ |
| status | ENUM | é€‰è¯¾çŠ¶æ€ |

## ç”¨æˆ·æƒé™é…ç½®

### ç®¡ç†å‘˜ç”¨æˆ·
- ç”¨æˆ·å: admin@localhost
- æƒé™: å…¨éƒ¨æƒé™
- è¯´æ˜: æœ¬åœ°ç®¡ç†å‘˜è´¦æˆ·

### è¿œç¨‹ç”¨æˆ·
- ç”¨æˆ·å: remote_user@%
- æƒé™: SELECT, INSERT, UPDATE, DELETE
- è¯´æ˜: è¿œç¨‹å®¢æˆ·ç«¯è®¿é—®è´¦æˆ·

### åªè¯»ç”¨æˆ·
- ç”¨æˆ·å: readonly_user@%
- æƒé™: SELECT
- è¯´æ˜: åªè¯»è®¿é—®è´¦æˆ·

## å®‰å…¨é…ç½®

### ç½‘ç»œå®‰å…¨
1. é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆ2881ï¼‰
2. ä½¿ç”¨å¼ºå¯†ç ç­–ç•¥
3. å®šæœŸæ›´æ–°å¯†ç 

### æ•°æ®å®‰å…¨
1. å®šæœŸå¤‡ä»½æ•°æ®
2. ä½¿ç”¨äº‹åŠ¡ä¿è¯æ•°æ®ä¸€è‡´æ€§
3. å®æ–½è®¿é—®æ—¥å¿—è®°å½•

## æµ‹è¯•

è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼š
```bash
python -m pytest tests/
# æˆ–
python tests/test_operations.py
```

## å¸¸è§é—®é¢˜

### Q1: æ— æ³•è¿æ¥åˆ°OceanBase
- æ£€æŸ¥OceanBaseæœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- éªŒè¯è¿æ¥å‚æ•°æ˜¯å¦æ­£ç¡®

### Q2: è¿œç¨‹è®¿é—®è¢«æ‹’ç»
- ç¡®è®¤è¿œç¨‹ç”¨æˆ·æƒé™å·²é…ç½®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- éªŒè¯ç”¨æˆ·åå’Œå¯†ç 

### Q3: ä¸­æ–‡æ˜¾ç¤ºä¹±ç 
- è®¾ç½®æ•°æ®åº“å­—ç¬¦é›†ä¸ºutf8mb4
- å®¢æˆ·ç«¯è¿æ¥æ—¶æŒ‡å®šcharset='utf8mb4'

## é¡¹ç›®ç»“æ„
```
student_management_system/
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ database/            # æ•°æ®åº“è„šæœ¬
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”œâ”€â”€ client/              # å®¢æˆ·ç«¯ç¨‹åº
â”œâ”€â”€ tests/               # æµ‹è¯•ä»£ç 
â”œâ”€â”€ scripts/             # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡
â”œâ”€â”€ main.py             # ä¸»ç¨‹åºå…¥å£
â””â”€â”€ README.md           # è¯´æ˜æ–‡æ¡£
```

## è®¸å¯è¯

MIT License

## ä½œè€…

Your Name - [your.email@example.com](mailto:your.email@example.com)

## è‡´è°¢

- OceanBaseå›¢é˜Ÿæä¾›çš„ä¼˜ç§€å›½äº§æ•°æ®åº“
- Pythonç¤¾åŒºçš„å¼€æºè´¡çŒ®è€…